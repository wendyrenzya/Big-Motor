<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pengaturan</title>

<style>
:root{
  --card:#fff;
  --bg:#f4f5f7;
  --muted:#6b7280;
  --footer-soft:#d9e7ff;
}

body{
  margin:0;
  padding-bottom:60px;
  background:var(--bg);
  font-family:Inter,Segoe UI,Roboto;
  color:#222;
  overflow-y:auto;
}
*{-webkit-tap-highlight-color:transparent}

/* STICKY TOP — KONSISTEN */
.sticky-top{
  position:sticky;
  top:0;
  z-index:50;
  background:var(--bg);
  padding:12px;
}

/* HEADER */
.header-wrap{
  border-radius:18px;
  overflow:hidden;
  background:#fff;
  box-shadow:0 10px 28px rgba(0,0,0,.12);
}

.header{
  background:linear-gradient(
    90deg,
    #d3e2ff 0%,
    #e8f0ff 50%,
    #f5f8ff 100%
  );
  padding:14px 16px;
  text-align:left;
  position:relative;
  border-bottom:1px solid #e6eefc;
  padding-right:90px;
}

.header::before{
  content:"";
  position:absolute;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background-image:url("assets/headerbg.png");
  background-repeat:no-repeat;
  background-position:center;
  background-size:cover;
  opacity:0.20;
  z-index:1;
  pointer-events:none;
}

.header > *{
  position:relative;
  z-index:2;
}

.h-title{
  font-size:18px;
  font-weight:800;
}

.h-sub{
  font-size:14px;
  font-weight:600;
  color:#666;
  margin-top:2px;
}

.h-time{
  font-size:13px;
  color:#666;
  margin-top:6px;
}

.header-icon{
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  width:80px;
  height:auto;
  z-index:5;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  padding:0 12px;
  margin-top:10px;
}
.menu-item{
  background:var(--card);
  border-radius:18px;
  padding:18px 8px 14px;
  text-align:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.08);
  cursor:pointer;
  transition:transform .15s;
}
.menu-item img{
  width:72px;height:72px;object-fit:contain;
}
.menu-item span{
  display:block;margin-top:10px;
  font-size:14px;font-weight:600;color:#111;
}
.menu-item:active{transform:scale(.98);}

/* FULL WIDTH BUTTON */
.full-btn{
  margin:8px 12px 0;
  background:var(--card);
  border-radius:18px;
  padding:12px 16px;
  display:flex;
  flex-direction:row;
  justify-content:center;
  align-items:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.08);
  cursor:pointer;
  transition:transform .15s;
}
.full-btn img{
  width:48px;height:48px;object-fit:contain;margin-right:12px;
}
.full-btn span{
  font-size:15px;font-weight:700;color:#111;
}
.full-btn:active{transform:scale(.98);}

/* HALF BUTTONS */
.half-row{
  display:flex;
  padding:0 12px;
  margin-top:8px;
  gap:10px;
}
.half-btn{
  flex:1;
  background:var(--card);
  border-radius:18px;
  padding:12px 10px;
  display:flex;
  justify-content:center;
  align-items:center;
  box-shadow:0 2px 10px rgba(0,0,0,0.08);
  cursor:pointer;
  transition:transform .15s;
}
.half-btn img{
  width:42px;height:42px;object-fit:contain;margin-right:10px;
}
.half-btn span{
  font-size:14px;font-weight:700;color:#111;
}
.half-btn:active{transform:scale(.98);}

/* bounce animation */
.bounce{animation:bounceTap .25s ease-out}
@keyframes bounceTap{
  0%{transform:scale(1)}
  40%{transform:scale(.92)}
  100%{transform:scale(1)}
}

/* POPUP QR */
#qrPopup{
  position:fixed;inset:0;background:rgba(0,0,0,.45);
  display:none;justify-content:center;align-items:center;z-index:9999;
}

/* FOOTER */
.footer-note{
  margin-top:10px;
  text-align:center;
  font-size:12px;
  padding-bottom:20px;
  color:#1A6BFF;
  background:#d9e7ff;
  padding:6px 0;
  font-style:italic;
}
.footer-note b{
  font-weight:700;font-style:italic;
}

/* NAVBAR */
.navbar{
  position:fixed;bottom:0;left:0;right:0;
  background:#fff;
  display:flex;
  justify-content:space-around;
  padding:8px 0 6px;
  border-top:1px solid #e6e6e6;
  box-shadow:0 -3px 10px rgba(0,0,0,0.06);
  z-index:999;
}
.nav-item{
  display:flex;flex-direction:column;align-items:center;
  font-size:11px;font-weight:600;color:#6a6a6a;
  padding:6px 12px;border-radius:16px;
  cursor:pointer;transition:.15s;
}
.nav-item img{
  width:28px;height:28px;margin-bottom:4px;opacity:.65;
}
.nav-active{background:rgba(62,139,255,0.12);color:#3E8BFF!important;}
.nav-active img{opacity:1!important;}
/* === BLUR PAGE LOADER (SAMA DENGAN PAGE LAIN) === */
.page-loader{
  position:fixed;
  inset:0;
  z-index:100000;
  display:flex;
  align-items:center;
  justify-content:center;

  background:rgba(244,245,247,0.35);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
@supports not (backdrop-filter: blur(6px)){
  .page-loader{ background:rgba(244,245,247,0.85); }
}
.loader-box{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:12px;
  padding:20px 24px;
  border-radius:16px;
  background:rgba(255,255,255,0.88);
  box-shadow:0 10px 30px rgba(0,0,0,.12);
}
.spinner{
  width:42px;height:42px;
  border:4px solid #dbe5ff;
  border-top-color:#3E8BFF;
  border-radius:50%;
  animation:spin .8s linear infinite;
}
.loader-text{
  font-size:13px;
  font-weight:800;
  color:#3E8BFF;
}
@keyframes spin{ to{transform:rotate(360deg)} }
</style>
</head>

<body>
<div id="pageLoader" class="page-loader">
  <div class="loader-box">
    <div class="spinner"></div>
    <div class="loader-text">Memuat..</div>
  </div>
</div>
<script>
    function showLoader(){
  const l=document.getElementById("pageLoader");
  if(l) l.style.display="flex";
}
function hideLoader(){
  const l=document.getElementById("pageLoader");
  if(l) l.style.display="none";
}
showLoader();

const token = localStorage.getItem("token");
if(!token) location.href="index.html";

function bounceThenNavigate(el,url){
  if(el){ el.classList.add("bounce"); setTimeout(()=>el.classList.remove("bounce"),280); }
  setTimeout(()=>location.href=url,90);
}

function doLogout(el){
  if(el){ el.classList.add("bounce"); setTimeout(()=>el.classList.remove("bounce"),280); }
  setTimeout(()=>{ localStorage.clear(); location.href="index.html"; },90);
}

function updateHeaderTime(){
  const d=new Date();
  document.getElementById("headerTime").textContent =
    d.toLocaleString("id-ID",{day:"2-digit",month:"short",year:"numeric"}) +
    " • " +
    d.toLocaleString("id-ID",{hour:"2-digit",minute:"2-digit"});
}
setInterval(updateHeaderTime,10000);
setTimeout(updateHeaderTime,10);

function showQR(){
  const p=document.getElementById("qrPopup");
  p.style.display="flex";
  p.onclick=()=>p.style.display="none";
}
</script>

<!-- HEADER -->
<div class="sticky-top">
  <div class="header-wrap">
    <div class="header">
      <div class="h-title">Fitur & Pengaturan</div>
      <div class="h-sub">BIG Motor</div>
      <div id="headerTime" class="h-time"></div>
      <img src="assets/atur.png" class="header-icon">
    </div>
  </div>
</div>

<!-- GRID MENU -->
<div class="grid">

  <div class="menu-item" onclick="bounceThenNavigate(this,'stok_kosong.html')">
    <img src="assets/stok_kosong.png"><span>Cek Stock</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'absen.html')">
    <img src="assets/absen.png"><span>Absensi</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'user.html')">
    <img src="assets/user.png"><span>Akun</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'invoice.html')">
    <img src="assets/invoice.png"><span>Invoice</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'harga.html')">
    <img src="assets/harga2.png"><span>Harga ⇅</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'bonus.html')">
    <img src="assets/bonus.png"><span>Bonus</span>
  </div>

  <div class="menu-item" onclick="bounceThenNavigate(this,'laporan_harian.html')">
    <img src="assets/daily.png"><span>Rekap</span>
  </div>

  <div class="menu-item" onclick="showQR()">
    <img src="assets/qrcode.png"><span>Show QR</span>
  </div>

  <div class="menu-item" onclick="doLogout(this)">
    <img src="assets/logout.png"><span>Logout</span>
  </div>

</div>

<!-- KATALOG (SESUSAI PERINTAH, DI ATAS DOWNLOAD) -->
<div class="full-btn" onclick="bounceThenNavigate(this,'list_katalog.html')">
  <img src="assets/katalog.png">
  <span>Lihat atau Buat Katalog</span>
</div>

<!-- 2 TOMBOL DOWNLOAD SEJAJAR -->
<div class="half-row">
  <div class="half-btn" onclick="location.href='bigmotor.apk'">
    <img src="assets/icon-192.png">
    <span>Download Apps</span>
  </div>

  <div class="half-btn" onclick="location.href='bigmotorprinter.apk'">
    <img src="assets/print.png">
    <span>Download Printer</span>
  </div>
</div>

<!-- POPUP QR -->
<div id="qrPopup">
  <div style="background:#fff;padding:16px;border-radius:16px;box-shadow:0 6px 20px rgba(0,0,0,.2)">
    <img src="assets/QR.jpg" style="width:260px;height:auto;border-radius:12px">
  </div>
</div>

<!-- FOOTER -->
<div class="footer-note">
  Copyright ©2025 <b>bigmotor.web.id</b><br>
  web apps for bengkel BIG Motor
</div>

<!-- NAVBAR -->
<div class="navbar">
  <div class="nav-item" onclick="bounceThenNavigate(this,'home.html')">
    <img src="assets/beranda.png">Beranda
  </div>
  <div class="nav-item" onclick="bounceThenNavigate(this,'barang.html')">
    <img src="assets/barang.png">Barang
  </div>
  <div class="nav-item" onclick="bounceThenNavigate(this,'riwayat.html')">
    <img src="assets/riwayat.png">Riwayat
  </div>
  <div class="nav-item nav-active">
    <img src="assets/pengaturan.png">Fitur
  </div>
</div>
<script>
window.addEventListener("load", ()=>{
  // halaman ini statis → cukup tunggu render + image
  setTimeout(hideLoader, 200);
});
</script>
</body>
</html>
